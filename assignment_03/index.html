<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>RGB Sort</title>


    <link rel="stylesheet" href="css/main.css" />
    <link rel="stylesheet" href="css/pure-min.css" />
    <!-- added grid css to my header -->
    <link rel="stylesheet" href="css/grid.css" />
    <link rel="icon" href="images/icons8-checkmark-64.png" />
</head>

<body>

    <script src="js/jquery-3.4.1.min.js"></script>

    <!-- added container for the entire page, broken up by columns-->
    <div class="container">
        <!-- each list is the original grid, however they are sorted by rgb value so that they grow in one value-->
        <div class="item item1">
                <h1>Green</h1>
                <h3>This list gets progressively "greener"</h3>
            <script>
                $(function () {
                    // https://stackoverflow.com/questions/979256/sorting-an-array-of-javascript-objects-by-property/979325#979325
                    // while testing how the grid works, I included this, however for some reason
                    // whenever i call append later, this, instead of inserting test, makes the .container
                    // line up in the column defined earlier. I honestly have no idea why
                    $('.item item1').append("test");
                    var sort_by = function (field, reverse, primer) {

                        var key = primer ?
                            function (x) { return primer(x[field]) } :
                            function (x) { return x[field] };

                        reverse = !reverse ? 1 : -1;

                        return function (a, b) {
                            return a = key(a), b = key(b), reverse * ((a > b) - (b > a));
                        }
                    }


                    /**
                     * theads [array] : array of string col heads
                     * trows [json] : json array of data
                     */
                    function buildTable(theads, trows) {
                        // when i attempted to append to the item item1 it did not appear, however
                        // appending it to container seems to replace "test" from the previous
                        // for an unknown reason
                        $('.container').append('<div id="t1"></div>');


                        var table = '<table class="pure-table pure-table-bordered" id="tcolor">';
                        for (var i = 0; i < theads.length; i++) {
                            table += '<th>' + theads[i] + '</th>';
                        }
                        for (var i = 0; i < trows.length; i++) {
                            table += '<tr>';
                            for (var key in trows[i]) {
                                if (trows[i].hasOwnProperty(key)) {
                                    table += '<td>' + trows[i][key] + '</td>';
                                }
                            }
                            // Adding new column here and grabbing color from json
                            table += '<td style="background:' + trows[i]['html'] + '"></td>';
                            table += '</tr>';
                        }
                        table += '</table>';
                        $('#t1').append(table);

                        $("#tcolor > tbody > tr:odd").css("background-color", "#c0c0c0");
                    }

                    $.get("http://167.99.158.119/assignment_03/colors.json")
                        .done(function (data) {
                            data.sort(function (a, b) {
                                if (a.rgb[1] < b.rgb[1]) {
                                    return -1;
                                }
                                if (b.rgb[1] < a.rgb[1]) {
                                    return 1;
                                }
                                return 0;
                            });
                            // Added extra column header ("example") for our colored column
                            buildTable(['html','name', 'rgb', 'example'], data);
                        });
                });
            </script>
        </div>
        <div class="item item2">
                <h1>Red</h1>
                <h3>This list gets progressively "reder"</h3>
            <script>
                $(function () {
                    $('.item item2').append("test");
                    // https://stackoverflow.com/questions/979256/sorting-an-array-of-javascript-objects-by-property/979325#979325
                    var sort_by = function (field, reverse, primer) {

                        var key = primer ?
                            function (x) { return primer(x[field]) } :
                            function (x) { return x[field] };

                        reverse = !reverse ? 1 : -1;

                        return function (a, b) {
                            return a = key(a), b = key(b), reverse * ((a > b) - (b > a));
                        }
                    }


                    /**
                     * theads [array] : array of string col heads
                     * trows [json] : json array of data
                     */
                    function buildTable(theads, trows) {
                        $('.container').append('<div id="t2"></div>');


                        var table = '<table class="pure-table pure-table-bordered" id="tcolor">';
                        for (var i = 0; i < theads.length; i++) {
                            table += '<th>' + theads[i] + '</th>';
                        }
                        for (var i = 0; i < trows.length; i++) {
                            table += '<tr>';
                            for (var key in trows[i]) {
                                if (trows[i].hasOwnProperty(key)) {
                                    table += '<td>' + trows[i][key] + '</td>';
                                }
                            }
                            // Adding new column here and grabbing color from json
                            table += '<td style="background:' + trows[i]['html'] + '"></td>';
                            table += '</tr>';
                        }
                        table += '</table>';
                        $('#t2').append(table);

                        $("#tcolor > tbody > tr:odd").css("background-color", "#c0c0c0");
                    }

                    $.get("http://167.99.158.119/assignment_03/colors.json")
                        .done(function (data) {
                            data.sort(function (a, b) {
                                if (a.rgb[0] < b.rgb[0]) {
                                    return -1;
                                }
                                if (b.rgb[0] < a.rgb[0]) {
                                    return 1;
                                }
                                return 0;
                            });
                            // Added extra column header ("example") for our colored column
                            buildTable(['html', 'name', 'rgb', 'example'], data);
                        });
                });
            </script>
        </div>
        <div class="item item3">
                <h1>Blues</h1>
                <h3>This List get progressively "bluer"</h3>
            <script>
                $(function () {
                    $('.item item3').append("test");
                    // https://stackoverflow.com/questions/979256/sorting-an-array-of-javascript-objects-by-property/979325#979325
                    var sort_by = function (field, reverse, primer) {

                        var key = primer ?
                            function (x) { return primer(x[field]) } :
                            function (x) { return x[field] };

                        reverse = !reverse ? 1 : -1;

                        return function (a, b) {
                            return a = key(a), b = key(b), reverse * ((a > b) - (b > a));
                        }
                    }


                    /**
                     * theads [array] : array of string col heads
                     * trows [json] : json array of data
                     */
                    function buildTable(theads, trows) {
                        $('.container').append('<div id="t3"></div>');


                        var table = '<table class="pure-table pure-table-bordered" id="tcolor">';
                        for (var i = 0; i < theads.length; i++) {
                            table += '<th>' + theads[i] + '</th>';
                        }
                        for (var i = 0; i < trows.length; i++) {
                            table += '<tr>';
                            for (var key in trows[i]) {
                                if (trows[i].hasOwnProperty(key)) {
                                    table += '<td>' + trows[i][key] + '</td>';
                                }
                            }
                            // Adding new column here and grabbing color from json
                            table += '<td style="background:' + trows[i]['html'] + '"></td>';
                            table += '</tr>';
                        }
                        table += '</table>';
                        $('#t3').append(table);

                        $("#tcolor > tbody > tr:odd").css("background-color", "#c0c0c0");
                    }

                    $.get("http://167.99.158.119/assignment_03/colors.json")
                        .done(function (data) {
                            data.sort(function (a, b) {
                                if (a.rgb[2] < b.rgb[2]) {
                                    return -1;
                                }
                                if (b.rgb[2] < a.rgb[2]) {
                                    return 1;
                                }
                                return 0;
                            });
                            // Added extra column header ("example") for our colored column
                            buildTable(['html', 'name', 'rgb', 'example'], data);
                        });
                });
            </script>
        </div>
    </div>


</body>

</html>